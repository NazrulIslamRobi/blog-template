<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from anam.co/otp-verification-without-using-a-database/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 26 Jan 2022 09:53:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>SMS OTP verification without using a database</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../assets/built/screen4124.css?v=cfe2113eef" />

    <link rel="shortcut icon" href="../favicon.png" type="image/png" />
    <link rel="canonical" href="https://blog.anam.co/otp-verification-without-using-a-database/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://blog.anam.co/otp-verification-without-using-a-database/amp/" />
    
    <meta property="og:site_name" content="Anam&#x27;s Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="SMS OTP verification without using a database" />
    <meta property="og:description" content="I have created many web applications that uses OTP verification via SMS. It works by sending a 4 to 6 digit number to the user&#x27;s phone number via SMS. And the user has to enter the OTP in order to verify the phone number. In most of the cases this" />
    <meta property="og:url" content="https://blog.anam.co/otp-verification-without-using-a-database/" />
    <meta property="og:image" content="https://images.unsplash.com/photo-1522251670181-320150ad6dab?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=1080&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" />
    <meta property="article:published_time" content="2019-10-02T19:50:44.000Z" />
    <meta property="article:modified_time" content="2019-10-05T19:49:26.000Z" />
    <meta property="article:tag" content="sms" />
    <meta property="article:tag" content="JavaScript" />
    <meta property="article:tag" content="development" />
    <meta property="article:tag" content="otp" />
    <meta property="article:tag" content="verification" />
    <meta property="article:tag" content="security" />
    <meta property="article:tag" content="technique" />
    <meta property="article:tag" content="cryptography" />
    <meta property="article:tag" content="serverless" />
    
    <meta property="article:publisher" content="https://www.facebook.com/theanam" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="SMS OTP verification without using a database" />
    <meta name="twitter:description" content="I have created many web applications that uses OTP verification via SMS. It works by sending a 4 to 6 digit number to the user&#x27;s phone number via SMS. And the user has to enter the OTP in order to verify the phone number. In most of the cases this" />
    <meta name="twitter:url" content="https://blog.anam.co/otp-verification-without-using-a-database/" />
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1522251670181-320150ad6dab?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=1080&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Anam Ahmed" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="sms, JavaScript, development, otp, verification, security, technique, cryptography, serverless" />
    <meta name="twitter:site" content="@mranam" />
    <meta property="og:image:width" content="1080" />
    <meta property="og:image:height" content="706" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Anam&#x27;s Blog",
        "logo": "https://blog.anam.co/content/images/2018/06/bloglogo-1.png"
    },
    "author": {
        "@type": "Person",
        "name": "Anam Ahmed",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/768b02b94182c64b0cc4bbeedcca49f9?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://blog.anam.co/author/anam/",
        "sameAs": []
    },
    "headline": "SMS OTP verification without using a database",
    "url": "https://blog.anam.co/otp-verification-without-using-a-database/",
    "datePublished": "2019-10-02T19:50:44.000Z",
    "dateModified": "2019-10-05T19:49:26.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1522251670181-320150ad6dab?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ",
        "width": 1080,
        "height": 706
    },
    "keywords": "sms, JavaScript, development, otp, verification, security, technique, cryptography, serverless",
    "description": "I have created many web applications that uses OTP verification via SMS. It works by sending a 4 to 6 digit number to the user&#x27;s phone number via SMS. And the user has to enter the OTP in order to verify the phone number. In most of the cases this",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.anam.co/"
    }
}
    </script>

    <script src="../public/ghost-sdk.min4124.js?v=cfe2113eef"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "105460a4bc06"
});
</script>
    <meta name="generator" content="Ghost 2.28" />
    <link rel="alternate" type="application/rss+xml" title="Anam&#x27;s Blog" href="https://blog.anam.co/rss/" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-9646061-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-9646061-2');
</script>

</head>
<body class="post-template tag-sms tag-javascript tag-development tag-otp tag-verification tag-security tag-technique tag-cryptography tag-serverless">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="https://blog.anam.co/"><img src="../content/images/2018/06/bloglogo-1.png" alt="Anam&#x27;s Blog" /></a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="https://blog.anam.co/">Home</a></li>
    <li class="nav-linux" role="menuitem"><a href="https://blog.anam.co/tag/linux/">Linux</a></li>
    <li class="nav-containers" role="menuitem"><a href="https://blog.anam.co/tag/docker/">Containers</a></li>
    <li class="nav-baanlaa" role="menuitem"><a href="https://blog.anam.co/tag/bangla-2/">বাংলা</a></li>
    <li class="nav-my-github" role="menuitem"><a href="https://github.com/theanam/">My Github</a></li>
    <li class="nav-my-linkedin" role="menuitem"><a href="https://linkedin.com/in/theanam/">My Linkedin</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-fb" href="https://www.facebook.com/theanam" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
                <a class="social-link social-link-tw" href="https://twitter.com/mranam" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://blog.anam.co/rss/" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-sms tag-javascript tag-development tag-otp tag-verification tag-security tag-technique tag-cryptography tag-serverless ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2019-10-03">3 October 2019</time>
                        <span class="date-divider">/</span> <a href="../tag/sms/index.html">sms</a>
                </section>
                <h1 class="post-full-title">SMS OTP verification without using a database</h1>
            </header>

            <figure class="post-full-image" style="background-image: url(https://images.unsplash.com/photo-1522251670181-320150ad6dab?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=1080&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ)">
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p>I have created many web applications that uses OTP verification via SMS. It works by sending a 4 to 6 digit number to the user's phone number via SMS. And the user has to enter the OTP in order to verify the phone number. </p><p>In most of the cases this is done using a simple technique, by keeping the OTP in the database or memory storage and matching it with the user input. In this article, I will try to explain how we can achieve the same result without any database of sorts.</p><blockquote>But before we start: let's talk about the motivation behind this approach. Database operation is expensive, usually slower and because it relies on another application or service, has a probability to fail. Another good reasons is, OTP is a temporary data. It does not belong to the database.</blockquote><blockquote>Also, If you are developing a serverless Application. OTP verification can be done with a serverless function that does not depends on anything else.</blockquote><p>This is now also available as <a href="https://www.npmjs.com/package/otp-without-db">NPM package</a></p><p>I will create an application that sends an OTP to the user using a SMS provider. I will not cover the code involved to send SMS, because that varies from provider to provider. Instead, I will only focus on the verification code. The language of choice is JavaScript, but the code should be simple enough to translate to any other programming language without breaking a sweat.</p><h4 id="the-basic-idea-">The Basic Idea: </h4><p>The technique involves cryptography, in a sense It's quite similar to how JWT tokens are verified. But also very different from JWT because of the way data is handled. This technique is done using the following steps: </p><p> 1. Create a<strong> cryptographic hash</strong> of the <em>phone number</em>, the <em>generated OTP</em> and the <em>expiry timestamp </em>combined<em>.</em></p><p>2. Append the expiry timestamp with the hash and Send the hash to the user as the response of the first request.</p><p>3. Once the user gets the SMS, the user sends back the <strong>hash, </strong>the <strong>phone number</strong> and the <strong>OTP</strong> in the second request. </p><p>4. The server verifies the OTP by hashing the <strong>phone number</strong>, <strong>OTP</strong> sent by the user, and the <strong>expiry timestamp</strong> that was appended with the hash, the user sent back. Using the same key and same algorithm.</p><p>5. If the expiry timestamp is valid and still in the future. And the newly generated hash matches the one sent by the user. Then the OTP is authentic.</p><!--kg-card-begin: image--><figure class="kg-card kg-image-card kg-card-hascaption"><img src="../content/images/2019/10/Untitled-Diagram.jpg" class="kg-image"><figcaption>Flow Diagram of the whole process</figcaption></figure><!--kg-card-end: image--><p>Lot to take in? Let's see it in Action. We will create two functions, one for creating the hash and and sending the SMS OTP, another for verifying the OTP.</p><p>We will use the awesome node package <a href="https://www.npmjs.com/package/otp-generator">otp-generator</a> to generate OTP codes in NodeJS. you need to install this package using npm or yarn.I've also omitted the package.json file in the example. Let's take a look at the hash generator code, every line is commented so that they are easy to understand:</p><!--kg-card-begin: html--><script src="../../gist.github.com/theanam/053b9129649d52368911d4d9c02d2af1.js"></script><!--kg-card-end: html--><p>This function will return a hash. The hash needs to be sent back to the user as HTTP response. when the user requests for an OTP. the <code>sendSMS</code> function, which is a dummy function in this example. In the real world needs to be implemented depending on the vendor's API. This function will send the SMS to the user with the OTP. </p><p>The user, once received the OTP, will send the <strong>hash</strong> that came from the first request, <strong>phone number</strong> and <strong>OTP</strong> to the server and the below function will verify it. Let's take a look at the source code: </p><!--kg-card-begin: html--><script src="../../gist.github.com/theanam/4f687fa747114ab6518e96d4c0cdee3c.js"></script><!--kg-card-end: html--><p>This method uses the <code>SHA256</code> hashing (HMAC) mechanism to ensure data integrity and is almost always faster and more efficient than a database based OTP verification system.</p><blockquote>This does not take into account stuffs like: error handling, http framework or routing etc. just to avoid unnecessary noise. </blockquote><p>The full sample source code is available <a href="https://gist.github.com/theanam/98ca7541b8c50ae4e104928115ce2e80">From this link</a></p><p>(Article needs review)</p>
                </div>
            </section>
            <section class="disqus-comments post-full-content">
                <style>
                    .disqus-comments.post-full-content::before {
                        display: none;
                    }
            
                    .disqus-comments.post-full-content::after {
                        display: none;
                    }
                </style>
            
                <div id="disqus_thread"></div>
                <script>

                    /**
                    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                    var disqus_config = function () {
                        //this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                        this.page.identifier = "ghost-5d94e7d229bcfa00015c6179"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                    };
                    (function () { // DON'T EDIT BELOW THIS LINE
                        var d = document, s = d.createElement('script');
                        s.src = '../../anamsblog.disqus.com/embed.js';
                        s.setAttribute('data-timestamp', +new Date());
                        (d.head || d.body).appendChild(s);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the
                    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
                </noscript>
            </section>

            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="http://www.gravatar.com/avatar/768b02b94182c64b0cc4bbeedcca49f9?s=250&amp;d=mm&amp;r=x" alt="Anam Ahmed" />
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="../author/anam/index.html">Anam Ahmed</a></h4>
            <p>Read <a href="../author/anam/index.html">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="../author/anam/index.html">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">

                <article class="post-card post">
        <a class="post-card-image-link" href="../baijnyaanik-klpkaahinii-simbi/index.html">
            <div class="post-card-image" style="background-image: url(https://images.unsplash.com/photo-1613744450985-fc6372fe6a12?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MnwxMTc3M3wwfDF8c2VhcmNofDM2fHxhbGllbnxlbnwwfHx8fDE2Mjg1MDcxOTk&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1080)"></div>
        </a>
    <div class="post-card-content">
        <a class="post-card-content-link" href="../baijnyaanik-klpkaahinii-simbi/index.html">
            <header class="post-card-header">
                <h2 class="post-card-title">বৈজ্ঞানিক কল্পকাহিনী: সিম্বি</h2>
            </header>
            <section class="post-card-excerpt">
                <p>মগের প্রিন্টটা উঠে যাচ্ছে। ২০৩৬ সালের বায়োটেক কনফারেন্সের কুচকুচে কালো কফি মগটা ডক্টর রাশে</p>
            </section>
        </a>
        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Anam Ahmed
                    </div>

                        <a href="../author/anam/index.html" class="static-avatar"><img class="author-profile-image" src="http://www.gravatar.com/avatar/768b02b94182c64b0cc4bbeedcca49f9?s=250&amp;d=mm&amp;r=x" alt="Anam Ahmed" /></a>
                </li>
            </ul>

            <span class="reading-time">1 min read</span>

        </footer>
    </div>
</article>

                <article class="post-card post tag-webrtc tag-rtc tag-audio tag-video tag-socket tag-websocket tag-english">
        <a class="post-card-image-link" href="../webrtc-simplified-part2/index.html">
            <div class="post-card-image" style="background-image: url(https://images.unsplash.com/photo-1544197150-b99a580bb7a8?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=1080&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ)"></div>
        </a>
    <div class="post-card-content">
        <a class="post-card-content-link" href="../webrtc-simplified-part2/index.html">
            <header class="post-card-header">
                    <span class="post-card-tags">webrtc</span>
                <h2 class="post-card-title">The curious world of web RTC (Part 2: Servers)</h2>
            </header>
            <section class="post-card-excerpt">
                <p>This is part 2 of my series on webRTC.Read Part 1 here: The curious world of web RTC (Part 1: Introduction)Let's talk servers. Of all the webRTC articles I read, all</p>
            </section>
        </a>
        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Anam Ahmed
                    </div>

                        <a href="../author/anam/index.html" class="static-avatar"><img class="author-profile-image" src="http://www.gravatar.com/avatar/768b02b94182c64b0cc4bbeedcca49f9?s=250&amp;d=mm&amp;r=x" alt="Anam Ahmed" /></a>
                </li>
            </ul>

            <span class="reading-time">4 min read</span>

        </footer>
    </div>
</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://blog.anam.co/">
                <img src="../content/images/2018/06/blogfav-1.png" alt="Anam&#x27;s Blog icon" />
            <span>Anam&#x27;s Blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">SMS OTP verification without using a database</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=SMS%20OTP%20verification%20without%20using%20a%20database&amp;url=https://blog.anam.co/otp-verification-without-using-a-database/"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.anam.co/otp-verification-without-using-a-database/"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
        </a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://blog.anam.co/">Anam&#x27;s Blog</a> &copy; 2022</section>
                <nav class="site-footer-nav">
                    <a href="https://blog.anam.co/">Latest Posts</a>
                    <a href="https://www.facebook.com/theanam" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com/mranam" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org/" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script
        src="../../code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids4124.js?v=cfe2113eef"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>

<!-- Mirrored from anam.co/otp-verification-without-using-a-database/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 26 Jan 2022 09:53:23 GMT -->
</html>
